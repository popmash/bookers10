<h2>７日間分の投稿数</h2>
     <table class="table">
   <thead>
    <tr>
     <th>6日前</th>
     <th>５日前</th>
     <th>４日前</th>
     <th>3日前</th>
     <th>２日前</th>
     <th>１日前</th>
     <th>今日</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <th><%= books.created_days_ago(6).count %></th>
     <th><%= books.created_days_ago(5).count %></th>
     <th><%= books.created_days_ago(4).count %></th>
     <th><%= books.created_days_ago(3).count %></th>
     <th><%= books.created_days_ago(2).count %></th>
     <th><%= books.created_days_ago(1).count %></th>
     <th><%= books.created_days_ago(0).count %></th>
    </tr>
   </tbody>
  </table>
  <canvas id="myChart"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ['６日前', '５日前', '４日前', '３日前', '２日前', '今日'],
        datasets: [{
            label: '投稿した本の数',
            data: [
               <%= books.created_days_ago(6).count %>,
               <%= books.created_days_ago(5).count %>,
               <%= books.created_days_ago(4).count %>,
               <%= books.created_days_ago(3).count %>,
               <%= books.created_days_ago(2).count %>,
               <%= books.created_days_ago(1).count %>,
               <%= books.created_days_ago(0).count %>,
               ],
            backgroundColor:"rgba(0,0,255,1)",
            borderColor: "rgba(0,0,255,1)",
            borderWidth: 2
        }]
    },
    options: {
      title: {
            display: true,
            text: '7日間の投稿数の比較'
          },
           responsive: true,
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>
